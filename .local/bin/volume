#!/usr/bin/zsh

case "$BLOCK_BUTTON" in
    # 1) notify-send "mouse click 1" ;;
    2) amixer -q sset Master toggle ;;
    # 3) notify-send "mouse click 3" ;;
    4) amixer -q sset Master 5%+ ;;
    5) amixer -q sset Master 5%- ;;
esac

data=$(amixer get Master)
volume=$(grep Left: <<< "$data" | awk '{print $5}' | tr -d '[]%')
speakerMode=$(grep Left: <<< "$data" | awk '{print $6}' | tr -d '[]')

if [[ $speakerMode == "on" ]]; then
    symb="ðŸ”Š"
    [[ $volume -le 50 ]] && symb="ðŸ”‰"
    [[ $volume -le 0 ]] && symb="ðŸ”ˆ"
else
    symb="ðŸ”‡"
fi

echo "[$symb $volume%]"
