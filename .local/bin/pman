#!/usr/bin/zsh

cmd=$1 ; shift >/dev/null 2>&1
case "$cmd" in
    "list"|"ls")
        pacman -Qu
        ;;
    "info")
        pacman -Qi $1
        ;;
    "fetch"|"f")
        sudo pacman -Sy
        updates=$(pacman -Qu | wc -l)
        echo "$updates updates available"
        ;;
    "search"|"s")
        pacman -Ss $1
        ;;
    "install"|"i")
        sudo pacman -S $1
        ;;
    "remove"|"rm")
        sudo pacman -Rs $1
        ;;
    "upgrade")
        sudo pacman -Syu
        ;;
    *)
        echo "Usage: pman <command> [options]\n"
        echo "pman is syntactic sugar for the pacman package manager\n"
        echo "Commands:"
        echo "    list,    ls   List available updates"
        echo "    info          Information about installed package"
        echo "    fetch,   f    Update package database"
        echo "    search,  s    Search for a package"
        echo "    install, i    Install a package"
        echo "    remove,  rm   Remove a package"
        echo "    upgrade, u    Install updates for all packages available"
        echo ""
        exit 1
        ;;
esac
